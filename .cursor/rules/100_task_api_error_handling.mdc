---
description: Task API comprehensive error handling patterns
globs:
  - "src/**/*.{ts,tsx}"
alwaysApply: true
---

- **Structured error responses** – always return `{ error: "message" }` format for API errors.
- **Error context logging** – include request ID, user context, and operation details in error logs.
- **Error propagation** – let custom errors bubble up, catch unexpected errors at route level.
- **Stack trace safety** – never expose stack traces in production API responses.
- **Error correlation** – use correlation IDs to track errors across service boundaries.
- **Graceful degradation** – handle partial failures without breaking entire operations.
- **Retry patterns** – implement exponential backoff for transient failures when adding external services.
